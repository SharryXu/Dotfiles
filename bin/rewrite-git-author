#!/bin/bash

# Rewrite all git commits' author info.

function usage() {
  echo -e "usage: $(basename $0) author_name author_email"
  exit 1
}

if [[ $# -eq 2 ]]; then
  git_command='export GIT_COMMITTER_NAME="'$1'"
               export GIT_COMMITTER_EMAIL="'$2'"

               export GIT_AUTHOR_NAME="'$1'"
               export GIT_AUTHOR_EMAIL="'$2'"'

  git filter-branch --env-filter $git_command --tag-name-filter cat -- --branches --tags

  exit #?
else
  usage
fi
